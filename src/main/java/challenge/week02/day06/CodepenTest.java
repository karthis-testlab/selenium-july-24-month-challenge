package challenge.week02.day06;

import java.time.Duration;

import org.openqa.selenium.By;
import org.openqa.selenium.chrome.ChromeDriver;
import org.testng.Assert;
import org.testng.annotations.AfterMethod;
import org.testng.annotations.BeforeMethod;
import org.testng.annotations.Test;

public class CodepenTest {
	
	/**
	 * Verify The Disabled Text Filed By Using Selenium WebDriver
	 * 
	 * TEST STEPS:
	 * 
	 * Step 1: Open your preferred web browser.
	 * Step 2: Navigate to the URL "https://codepen.io/unknownUser7/pen/gOJEeRM".
	 * Step 3: Click on the Change view icon.
	 * Step 4: Click on the first view option from the available choices.
	 * Step 5: Verify the text field for Confirm Email and Confirm Password is disabled.
	 * Step 6: Retrieve and Print the Confirm Email and Confirm Password.
	 * 
	 **/
	
	ChromeDriver driver;
	
	@BeforeMethod
	public void setUp() {
		driver = new ChromeDriver();;
		driver.manage().window().maximize();
		driver.navigate().to("https://codepen.io/unknownUser7/pen/gOJEeRM");
		driver.manage().timeouts().implicitlyWait(Duration.ofSeconds(15));
	}

	@AfterMethod
	public void tearDown() {
		driver.close();
	}
	
	@Test
	public void validateTextFieldOfTheSignUpForm() {
		driver.findElement(By.id("view-switcher-button")).click();
		driver.findElement(By.cssSelector("div#view-switcher-buttons > button:first-child")).click();
		driver.findElement(By.id("view-switcher-button")).click();
		driver.switchTo().frame("result");
		Assert.assertTrue(driver.findElement(By.id("confirmEmail")).isDisplayed());
		Assert.assertTrue(driver.findElement(By.id("confirmPassword")).isDisplayed());
		System.out.println("Default value of the 'Confirm Email' Text Field in the Sign Up Form: "+driver.findElement(By.id("confirmEmail")).getAttribute("value"));
		System.out.println("Default value of the 'Confirm Password' Text Field in the Sign Up Form: "+driver.findElement(By.id("confirmPassword")).getAttribute("value"));
	}	
	

}